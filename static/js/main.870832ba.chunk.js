(this.webpackJsonpsup=this.webpackJsonpsup||[]).push([[0],{33:function(e,t,n){},35:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(22),i=n.n(c),s=(n(33),n(20)),o=n.n(s),u=n(23),d=n(19),j=(n(35),n(46)),p=n(45),b=n(24),l=n.n(b),h=n(15),m=(n(43),n(37),n(25)),O=n(26),x=n(3);h.a.apps.length||h.a.initializeApp({apiKey:"AIzaSyClCMTncHfSZERRPNULeGs2F8KSAkphI_Q",authDomain:"ginder-app.firebaseapp.com",projectId:"ginder-app",storageBucket:"ginder-app.appspot.com",messagingSenderId:"605363120970",appId:"1:605363120970:web:72813cd0fe7ed18bb92fb3",measurementId:"G-HFRG26XVBY"});var f=h.a.auth(),g=h.a.firestore();var v=function(){var e=Object(m.a)(f),t=Object(d.a)(e,1)[0];return Object(x.jsx)(j.a,{theme:l.a,children:Object(x.jsxs)("div",{sx:{maxWidth:512,mx:"auto",px:3,py:4},children:[Object(x.jsxs)("header",{children:[Object(x.jsx)("h1",{children:"\u0e01\u0e34\u0e19\u0e40\u0e14\u0e2d\u0e23\u0e4c Ginder \ud83d\udd25"}),Object(x.jsx)(F,{})]}),Object(x.jsx)("section",{children:t?Object(x.jsx)(I,{}):Object(x.jsx)(y,{})})]})})};function y(){return Object(x.jsx)("button",{onClick:function(){var e=new h.a.auth.GoogleAuthProvider;f.signInWithPopup(e)},children:"Sign in with Google"})}function F(){return f.currentUser&&Object(x.jsx)("button",{onClick:function(){return f.signOut()},children:"Sign Out"})}function I(){var e=Object(r.useRef)(),t=g.collection("messages"),n=t.orderBy("createdAt").limit(25),a=Object(O.a)(n,{idField:"id"}),c=Object(d.a)(a,1)[0],i=Object(r.useState)(""),s=Object(d.a)(i,2),j=s[0],b=s[1],l=function(){var n=Object(u.a)(o.a.mark((function n(r){var a,c,i,s;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r.preventDefault(),a=f.currentUser,c=a.displayName,i=a.uid,s=a.photoURL,n.next=4,t.add({displayName:c,text:j,createdAt:h.a.firestore.FieldValue.serverTimestamp(),uid:i,photoURL:s});case 4:b(""),e.current.scrollIntoView({behavior:"smooth"});case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("main",{children:[c&&c.map((function(e){return Object(x.jsx)(S,{message:e},e.id)})),Object(x.jsx)("span",{ref:e})]}),Object(x.jsxs)("form",{onSubmit:l,children:[Object(x.jsx)(p.b,{mb:3,value:j,onChange:function(e){return b(e.target.value)},placeholder:"say something nice"}),Object(x.jsx)(p.a,{variant:"primary",mr:2,type:"submit",disabled:!j,children:"\ud83d\udd4a\ufe0f sent"})]})]})}function S(e){var t=e.message,n=(t.displayName,t.text),r=t.uid,a=t.photoURL,c=r===f.currentUser.uid?"sent":"received";return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("div",{className:"message ".concat(c),children:[Object(x.jsx)("img",{src:a||"https://api.adorable.io/avatars/23/abott@adorable.png"}),Object(x.jsx)("p",{children:n})]})})}var w=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,47)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))};i.a.render(Object(x.jsx)(a.a.StrictMode,{children:Object(x.jsx)(v,{})}),document.getElementById("root")),w()}},[[42,1,2]]]);
//# sourceMappingURL=main.870832ba.chunk.js.map